<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©</title>
  <style>
    :root{
      --bg:#081426;
      --card:#0f2140cc;
      --card2:#0c1b34cc;
      --text:#ffffff;
      --muted:#b9c6df;
      --muted2:#93a4c6;
      --accent:#3f66ff;
      --accent2:#2b4dd6;
      --shadow: 0 20px 50px rgba(0,0,0,.35);
      --radius: 26px;
      --border: rgba(255,255,255,.10);
    }

    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family: system-ui, -apple-system, "Segoe UI", Tahoma, Arial, sans-serif;
      background: radial-gradient(1200px 800px at 50% -200px, #143261 0%, var(--bg) 55%, #050b14 100%);
      color:var(--text);
      min-height:100vh;
      display:flex;
      align-items:flex-start;
      justify-content:center;
      padding:24px 14px 60px;
    }

    .wrap{ width:min(820px, 100%); }

    .card{
      background: linear-gradient(180deg, rgba(14,33,70,.95), rgba(10,22,45,.92));
      border: 1px solid rgba(255,255,255,.08);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 22px 18px 18px;
      overflow:hidden;
    }

    .title{
      text-align:center;
      font-weight:900;
      letter-spacing:.5px;
      font-size: clamp(30px, 5.2vw, 54px);
      margin: 4px 0 6px;
    }
    .sub{
      text-align:center;
      color:var(--muted);
      font-size: clamp(15px, 2.2vw, 19px);
      line-height:1.7;
      margin: 0 0 6px;
    }
    .time{
      text-align:center;
      color:var(--muted);
      font-size: clamp(16px, 2.4vw, 20px);
      margin: 6px 0 14px;
    }

    hr.sep{
      border:none;
      height:1px;
      background: rgba(255,255,255,.12);
      margin: 14px 0 18px;
    }

    /* ===== Ø§Ù„Ø´Ø¨ÙƒØ© (Ù…Ø«Ù„ Ø§Ù„ØµÙˆØ±Ø©) ===== */
    .grid{
      display:grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 12px;
    }

    .tile{
      position:relative;
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.06);
      padding: 22px 14px;
      min-height: 92px;
      cursor:pointer;
      overflow:hidden;
      display:flex;
      align-items:center;
      justify-content:center;
      text-align:center;
      font-weight: 1000;
      font-size: clamp(18px, 3.3vw, 30px);
      color: rgba(255,255,255,.92);
      letter-spacing:.2px;
      user-select:none;
      transition: transform .08s ease, filter .12s ease;
    }
    .tile:active{ transform: scale(.99); }

    /* ØªØ¯Ø±Ø¬Ø§Øª Ø®ÙÙŠÙØ© ØªØ´Ø¨Ù‡ â€œØ§Ù„Ø£Ù…ÙˆØ§Ø¬â€ */
    .tile::before{
      content:"";
      position:absolute;
      inset:-40px -60px auto auto;
      width:240px;
      height:140px;
      background: radial-gradient(circle at 30% 30%, rgba(255,255,255,.35), rgba(255,255,255,0) 60%);
      transform: rotate(10deg);
      opacity:.55;
      pointer-events:none;
    }
    .tile::after{
      content:"";
      position:absolute;
      inset:auto -80px -60px auto;
      width:260px;
      height:180px;
      background: radial-gradient(circle at 40% 40%, rgba(255,255,255,.25), rgba(255,255,255,0) 62%);
      transform: rotate(-12deg);
      opacity:.45;
      pointer-events:none;
    }

    .t1{ background: linear-gradient(135deg, rgba(44,132,255,.35), rgba(255,255,255,.06)); }
    .t2{ background: linear-gradient(135deg, rgba(62,206,141,.28), rgba(255,255,255,.06)); }
    .t3{ background: linear-gradient(135deg, rgba(255,196,86,.22), rgba(255,255,255,.06)); }
    .t4{ background: linear-gradient(135deg, rgba(85,255,173,.20), rgba(255,255,255,.06)); }
    .t5{ background: linear-gradient(135deg, rgba(255,205,120,.18), rgba(255,255,255,.06)); }

    /* ===== Ù†Ø§ÙØ°Ø© Ø§Ù„ØªÙØ§ØµÙŠÙ„ ===== */
    .overlay{
      position:fixed;
      inset:0;
      background: rgba(0,0,0,.45);
      display:none;
      align-items:flex-end;
      justify-content:center;
      padding: 18px 12px;
      z-index:999;
    }
    .overlay.show{ display:flex; }

    .sheet{
      width:min(820px, 100%);
      background: linear-gradient(180deg, rgba(14,33,70,.98), rgba(10,22,45,.98));
      border: 1px solid rgba(255,255,255,.10);
      border-radius: 22px;
      box-shadow: 0 30px 90px rgba(0,0,0,.55);
      overflow:hidden;
    }

    .sheetHead{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 10px;
      padding: 14px 14px;
      border-bottom: 1px solid rgba(255,255,255,.10);
    }

    .sheetTitle{
      font-size: 22px;
      font-weight: 1000;
      margin:0;
    }

    .closeBtn{
      border:none;
      background: rgba(255,255,255,.10);
      color: #fff;
      font-weight: 1000;
      border-radius: 14px;
      padding: 10px 14px;
      cursor:pointer;
    }

    .sheetBody{
      padding: 14px 14px 16px;
      max-height: 70vh;
      overflow:auto;
    }

    .hint{
      color: rgba(255,255,255,.65);
      font-weight: 700;
      font-size: 14px;
      margin: 0 0 10px;
      line-height:1.7;
    }

    /* ÙÙ„Ø§ØªØ± Ø¯Ø§Ø®Ù„ Ø§Ù„ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ */
    .filterRow{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin: 10px 0 12px;
    }
    .chipBtn{
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      color:#fff;
      border-radius: 999px;
      padding: 10px 12px;
      font-weight: 900;
      cursor:pointer;
      font-size: 14px;
    }
    .chipBtn.active{
      border-color: rgba(63,102,255,.65);
      box-shadow: 0 0 0 3px rgba(63,102,255,.18);
      background: rgba(63,102,255,.20);
    }

    /* Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£Ø­Ø¯Ø§Ø« */
    .list{
      display:grid;
      gap: 10px;
    }
    .item{
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.05);
      border-radius: 18px;
      padding: 12px 12px 12px;
    }
    .itemTitle{
      font-weight: 1000;
      font-size: 18px;
      margin:0 0 8px;
      color: rgba(255,255,255,.92);
      line-height:1.45;
    }
    .itemMeta{
      display:flex;
      gap: 8px;
      flex-wrap:wrap;   /* Ù…Ù‡Ù… Ø¹Ø´Ø§Ù† Ù…Ø§ ÙŠØªØ´Ø¨Ùƒ Ø§Ù„ÙƒÙ„Ø§Ù… */
      align-items:center;
    }
    .chip{
      display:inline-flex;
      align-items:center;
      gap:6px;
      padding: 8px 10px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.06);
      color: rgba(255,255,255,.85);
      font-weight: 900;
      font-size: 13px;
      line-height:1.4;
      white-space: nowrap;
    }

    .footer{
      margin-top: 14px;
      text-align:center;
      color: rgba(255,255,255,.55);
      font-size: 14px;
      font-weight: 800;
    }

    @media (max-width: 440px){
      .grid{ grid-template-columns: 1fr; }
      .tile{ min-height: 84px; }
      .sheetBody{ max-height: 74vh; }
    }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="card">
      <div class="title">ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ© ğŸ‡¸ğŸ‡¦</div>
      <div class="sub" id="hijriDate">â€”</div>
      <div class="time" id="clock">â€”</div>

      <hr class="sep">

      <div class="grid">
        <div class="tile t1" data-key="school">Ø§Ù„ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ</div>
        <div class="tile t2" data-key="salaries">Ù…ÙˆØ¹Ø¯ Ø§Ù„Ø±ÙˆØ§ØªØ¨</div>
        <div class="tile t3" data-key="pension">Ø±ÙˆØ§ØªØ¨ Ø§Ù„Ù…ØªÙ‚Ø§Ø¹Ø¯ÙŠÙ†</div>
        <div class="tile t4" data-key="citizen">Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…ÙˆØ§Ø·Ù†</div>
        <div class="tile t5" data-key="social">Ø§Ù„Ø¶Ù…Ø§Ù† Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ</div>
      </div>

      <div class="footer">Ù…Ø¹ ØªØ­ÙŠØ§Øª: Ø§Ù„Ù…Ø¨Ø±Ù…Ø¬ Ø±Ø§Ø¹ÙŠ Ø§Ù„Ù…Ø¯Ø¨Ù„Ù‡ ğŸ”¥ğŸ’»</div>
    </div>
  </div>

  <!-- Ù†Ø§ÙØ°Ø© Ø§Ù„ØªÙØ§ØµÙŠÙ„ -->
  <div class="overlay" id="overlay">
    <div class="sheet">
      <div class="sheetHead">
        <h3 class="sheetTitle" id="sheetTitle">â€”</h3>
        <button class="closeBtn" id="closeBtn">Ø¥ØºÙ„Ø§Ù‚</button>
      </div>
      <div class="sheetBody" id="sheetBody"></div>
    </div>
  </div>

  <script>
    // ===== Ø¨ÙŠØ§Ù†Ø§Øª =====
    const DATA = {
      school: {
        title: "ğŸ« Ø§Ù„ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ 1447 / 1448 (2025 / 2026)",
        general: [
          // (Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø¹Ø§Ù…)
          { title:"Ø¹ÙˆØ¯Ø© Ø§Ù„Ù‡ÙŠØ¦Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ© ÙˆØ§Ù„Ù…Ø´Ø±ÙÙŠÙ† Ø§Ù„ØªØ±Ø¨ÙˆÙŠÙŠÙ† ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø±Ø§Ø­Ù„ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ©", greg:"2025-08-12" },
          { title:"Ø¹ÙˆØ¯Ø© Ø§Ù„Ù…Ø¹Ù„Ù…ÙŠÙ† Ø§Ù„Ù…Ù…Ø§Ø±Ø³ÙŠÙ† Ù„Ù„ØªØ¯Ø±ÙŠØ³ ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø±Ø§Ø­Ù„ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ©", greg:"2025-08-17" },
          { title:"Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ø¹Ø§Ù… Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ", greg:"2025-08-24" },
          { title:"Ø¥Ø¬Ø§Ø²Ø© Ø§Ù„ÙŠÙˆÙ… Ø§Ù„ÙˆØ·Ù†ÙŠ", greg:"2025-09-23" },
          { title:"Ø¥Ø¬Ø§Ø²Ø© Ø¥Ø¶Ø§ÙÙŠØ©", greg:"2025-10-12" },

          { title:"Ø¨Ø¯Ø§ÙŠØ© Ø¥Ø¬Ø§Ø²Ø© Ø§Ù„Ø®Ø±ÙŠÙ", greg:"2025-11-21" },
          { title:"Ù†Ù‡Ø§ÙŠØ© Ø¥Ø¬Ø§Ø²Ø© Ø§Ù„Ø®Ø±ÙŠÙ", greg:"2025-11-29" },

          { title:"Ø¥Ø¬Ø§Ø²Ø© Ø¥Ø¶Ø§ÙÙŠØ©", greg:"2025-12-11" },

          { title:"Ø¨Ø¯Ø§ÙŠØ© Ø¥Ø¬Ø§Ø²Ø© Ù…Ù†ØªØµÙ Ø§Ù„Ø¹Ø§Ù… Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ", greg:"2026-01-09" },
          { title:"Ù†Ù‡Ø§ÙŠØ© Ø¥Ø¬Ø§Ø²Ø© Ù…Ù†ØªØµÙ Ø§Ù„Ø¹Ø§Ù… Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ", greg:"2026-01-17" },

          { title:"Ø¥Ø¬Ø§Ø²Ø© ÙŠÙˆÙ… Ø§Ù„ØªØ£Ø³ÙŠØ³", greg:"2026-02-22" },

          { title:"Ø¨Ø¯Ø§ÙŠØ© Ø¥Ø¬Ø§Ø²Ø© Ø¹ÙŠØ¯ Ø§Ù„ÙØ·Ø±", greg:"2026-03-06" },
          { title:"Ù†Ù‡Ø§ÙŠØ© Ø¥Ø¬Ø§Ø²Ø© Ø¹ÙŠØ¯ Ø§Ù„ÙØ·Ø±", greg:"2026-03-28" },

          { title:"Ø¨Ø¯Ø§ÙŠØ© Ø¥Ø¬Ø§Ø²Ø© Ø¹ÙŠØ¯ Ø§Ù„Ø£Ø¶Ø­Ù‰", greg:"2026-05-22" },
          { title:"Ù†Ù‡Ø§ÙŠØ© Ø¥Ø¬Ø§Ø²Ø© Ø¹ÙŠØ¯ Ø§Ù„Ø£Ø¶Ø­Ù‰", greg:"2026-06-01" },

          { title:"Ø¨Ø¯Ø§ÙŠØ© Ø¥Ø¬Ø§Ø²Ø© Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø¹Ø§Ù… Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ", greg:"2026-06-25" },

          { title:"Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ø¹Ø§Ù… Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ 1448 - 1449 Ù‡Ù€", greg:"2026-08-23" }
        ],
        makkah: [
          // (Ù…ÙƒØ© ÙˆØ§Ù„Ù…Ø¯ÙŠÙ†Ø©)
          { title:"Ø¹ÙˆØ¯Ø© Ø§Ù„Ù‡ÙŠØ¦Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ© ÙˆØ§Ù„Ù…Ø´Ø±ÙÙŠÙ† Ø§Ù„ØªØ±Ø¨ÙˆÙŠÙŠÙ† ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø±Ø§Ø­Ù„ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ©", greg:"2025-08-17" },
          { title:"Ø¹ÙˆØ¯Ø© Ø§Ù„Ù…Ø¹Ù„Ù…ÙŠÙ† Ø§Ù„Ù…Ù…Ø§Ø±Ø³ÙŠÙ† Ù„Ù„ØªØ¯Ø±ÙŠØ³ ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø±Ø§Ø­Ù„ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ©", greg:"2025-08-24" },
          { title:"Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ø¹Ø§Ù… Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ (Ù…ÙƒØ©/Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©)", greg:"2025-08-31" },

          { title:"Ø¥Ø¬Ø§Ø²Ø© Ø§Ù„ÙŠÙˆÙ… Ø§Ù„ÙˆØ·Ù†ÙŠ", greg:"2025-09-23" },
          { title:"Ø¥Ø¬Ø§Ø²Ø© Ø¥Ø¶Ø§ÙÙŠØ©", greg:"2025-10-12" },

          { title:"Ø¨Ø¯Ø§ÙŠØ© Ø¥Ø¬Ø§Ø²Ø© Ø§Ù„Ø®Ø±ÙŠÙ", greg:"2025-11-21" },
          { title:"Ù†Ù‡Ø§ÙŠØ© Ø¥Ø¬Ø§Ø²Ø© Ø§Ù„Ø®Ø±ÙŠÙ", greg:"2025-11-29" },

          { title:"Ø¥Ø¬Ø§Ø²Ø© Ø¥Ø¶Ø§ÙÙŠØ©", greg:"2025-12-11" },

          { title:"Ø¨Ø¯Ø§ÙŠØ© Ø¥Ø¬Ø§Ø²Ø© Ù…Ù†ØªØµÙ Ø§Ù„Ø¹Ø§Ù… Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ", greg:"2026-01-09" },
          { title:"Ù†Ù‡Ø§ÙŠØ© Ø¥Ø¬Ø§Ø²Ø© Ù…Ù†ØªØµÙ Ø§Ù„Ø¹Ø§Ù… Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ", greg:"2026-01-17" },

          { title:"Ø¥Ø¬Ø§Ø²Ø© ÙŠÙˆÙ… Ø§Ù„ØªØ£Ø³ÙŠØ³", greg:"2026-02-22" },

          { title:"Ø¨Ø¯Ø§ÙŠØ© Ø¥Ø¬Ø§Ø²Ø© Ø¹ÙŠØ¯ Ø§Ù„ÙØ·Ø±", greg:"2026-03-06" },
          { title:"Ù†Ù‡Ø§ÙŠØ© Ø¥Ø¬Ø§Ø²Ø© Ø¹ÙŠØ¯ Ø§Ù„ÙØ·Ø±", greg:"2026-03-28" },

          { title:"Ø¨Ø¯Ø§ÙŠØ© Ø¥Ø¬Ø§Ø²Ø© Ø¹ÙŠØ¯ Ø§Ù„Ø£Ø¶Ø­Ù‰", greg:"2026-05-15" },
          { title:"Ù†Ù‡Ø§ÙŠØ© Ø¥Ø¬Ø§Ø²Ø© Ø¹ÙŠØ¯ Ø§Ù„Ø£Ø¶Ø­Ù‰", greg:"2026-06-01" },

          { title:"Ø¨Ø¯Ø§ÙŠØ© Ø¥Ø¬Ø§Ø²Ø© Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø¹Ø§Ù… Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ (Ù…ÙƒØ©/Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©)", greg:"2026-07-02" },
          { title:"Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ø¹Ø§Ù… Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ 1448 - 1449 Ù‡Ù€ (Ù…ÙƒØ©/Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©)", greg:"2026-08-30" }
        ]
      },

      // Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ø£Ù‚Ø³Ø§Ù… (Ø¬Ø§Ù‡Ø²Ø© Ù†Ø¹Ø¨Ù‘ÙŠÙ‡Ø§ Ø¨Ø¹Ø¯ÙŠÙ†)
      salaries: {
        title: "ğŸ’° Ù…ÙˆØ¹Ø¯ Ø§Ù„Ø±ÙˆØ§ØªØ¨",
        items: [
          { title:"Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯ Ù‡Ù†Ø§ Ù‚Ø±ÙŠØ¨Ù‹Ø§", greg:null }
        ]
      },
      pension: {
        title: "ğŸ‘´ Ø±ÙˆØ§ØªØ¨ Ø§Ù„Ù…ØªÙ‚Ø§Ø¹Ø¯ÙŠÙ†",
        items: [
          { title:"Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯ Ù‡Ù†Ø§ Ù‚Ø±ÙŠØ¨Ù‹Ø§", greg:null }
        ]
      },
      citizen: {
        title: "ğŸ§¾ Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…ÙˆØ§Ø·Ù†",
        items: [
          { title:"Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯ Ù‡Ù†Ø§ Ù‚Ø±ÙŠØ¨Ù‹Ø§", greg:null }
        ]
      },
      social: {
        title: "ğŸ§‘â€ğŸ¤â€ğŸ§‘ Ø§Ù„Ø¶Ù…Ø§Ù† Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ",
        items: [
          { title:"Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯ Ù‡Ù†Ø§ Ù‚Ø±ÙŠØ¨Ù‹Ø§", greg:null }
        ]
      }
    };

    // ===== Ø£Ø¯ÙˆØ§Øª ÙˆÙ‚Øª/ØªØ§Ø±ÙŠØ® =====
    function getHijriText(now){
      try{
        return new Intl.DateTimeFormat("ar-SA-u-ca-islamic-umalqura", {
          weekday:"long", day:"numeric", month:"long", year:"numeric"
        }).format(now);
      }catch(e){
        return new Intl.DateTimeFormat("ar-SA-u-ca-islamic", {
          weekday:"long", day:"numeric", month:"long", year:"numeric"
        }).format(now);
      }
    }

    function formatHijri(date){
      try{
        return new Intl.DateTimeFormat("ar-SA-u-ca-islamic-umalqura", {
          day:"numeric", month:"long", year:"numeric"
        }).format(date);
      }catch(e){
        return new Intl.DateTimeFormat("ar-SA-u-ca-islamic", {
          day:"numeric", month:"long", year:"numeric"
        }).format(date);
      }
    }

    function formatGreg(date){
      return new Intl.DateTimeFormat("ar-SA", {
        weekday:"long", day:"numeric", month:"long", year:"numeric"
      }).format(date);
    }

    // Ø¹Ø¯ ØªÙ†Ø§Ø²Ù„ÙŠ "Ø¨Ø§Ù„Ø£ÙŠØ§Ù…"
    function countdownDays(targetDate){
      const now = new Date();
      const startOfToday = new Date(now.getFullYear(), now.getMonth(), now.getDate());
      const startOfTarget = new Date(targetDate.getFullYear(), targetDate.getMonth(), targetDate.getDate());
      const diff = Math.round((startOfTarget - startOfToday) / (1000*60*60*24));

      if(diff < 0) return "Ø§Ù†ØªÙ‡Ù‰";
      if(diff === 0) return "Ø§Ù„ÙŠÙˆÙ…";
      if(diff === 1) return "Ø¨Ø§Ù‚ÙŠ ÙŠÙˆÙ…";
      if(diff === 2) return "Ø¨Ø§Ù‚ÙŠ ÙŠÙˆÙ…ÙŠÙ†";
      return `Ø¨Ø§Ù‚ÙŠ ${diff} Ø£ÙŠØ§Ù…`;
    }

    function updateHeaderTime(){
      const now = new Date();
      const timeStr = new Intl.DateTimeFormat("ar-SA", {
        hour:"numeric", minute:"2-digit", second:"2-digit"
      }).format(now);

      document.getElementById("clock").textContent = `â° ${timeStr}`;
      document.getElementById("hijriDate").textContent = `ğŸ“… ${getHijriText(now)}`;
    }

    // ===== ÙˆØ§Ø¬Ù‡Ø© Ù†Ø§ÙØ°Ø© Ø§Ù„ØªÙØ§ØµÙŠÙ„ =====
    const overlay = document.getElementById("overlay");
    const sheetTitle = document.getElementById("sheetTitle");
    const sheetBody = document.getElementById("sheetBody");
    const closeBtn = document.getElementById("closeBtn");

    function openSheet(key){
      if(!DATA[key]) return;

      sheetTitle.textContent = DATA[key].title || "â€”";
      sheetBody.innerHTML = "";

      // Ø§Ù„ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ Ù„Ù‡ ÙÙ„ØªØ± (Ø¹Ø§Ù… / Ù…ÙƒØ©-Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©)
      if(key === "school"){
        let active = "general";

        const hint = document.createElement("div");
        hint.className = "hint";
        hint.textContent = "ÙŠØ¹Ø±Ø¶ ÙƒÙ„ Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ù…Ø¹ Ø§Ù„ØªØ§Ø±ÙŠØ® (Ù…ÙŠÙ„Ø§Ø¯ÙŠ/Ù‡Ø¬Ø±ÙŠ) + Ø§Ù„Ø¹Ø¯Ù‘ Ø§Ù„ØªÙ†Ø§Ø²Ù„ÙŠ.";
        sheetBody.appendChild(hint);

        const filterRow = document.createElement("div");
        filterRow.className = "filterRow";

        const btnGeneral = document.createElement("button");
        btnGeneral.className = "chipBtn active";
        btnGeneral.textContent = "Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø¹Ø§Ù…";

        const btnMakkah = document.createElement("button");
        btnMakkah.className = "chipBtn";
        btnMakkah.textContent = "Ù…ÙƒØ©/Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©";

        filterRow.appendChild(btnGeneral);
        filterRow.appendChild(btnMakkah);
        sheetBody.appendChild(filterRow);

        const list = document.createElement("div");
        list.className = "list";
        sheetBody.appendChild(list);

        function render(){
          list.innerHTML = "";
          const items = (DATA.school[active] || []).slice()
            .sort((a,b)=> new Date(a.greg) - new Date(b.greg));

          items.forEach(ev=>{
            const item = document.createElement("div");
            item.className = "item";

            const title = document.createElement("div");
            title.className = "itemTitle";
            title.textContent = ev.title;

            const meta = document.createElement("div");
            meta.className = "itemMeta";

            const d = new Date(ev.greg);

            const c1 = document.createElement("span");
            c1.className = "chip";
            c1.textContent = `ğŸ—“ï¸ Ù…ÙŠÙ„Ø§Ø¯ÙŠ: ${formatGreg(d)}`;

            const c2 = document.createElement("span");
            c2.className = "chip";
            c2.textContent = `ğŸ“… Ù‡Ø¬Ø±ÙŠ: ${formatHijri(d)}`;

            const c3 = document.createElement("span");
            c3.className = "chip";
            c3.textContent = `â³ ${countdownDays(d)}`;

            meta.appendChild(c1);
            meta.appendChild(c2);
            meta.appendChild(c3);

            item.appendChild(title);
            item.appendChild(meta);
            list.appendChild(item);
          });
        }

        btnGeneral.addEventListener("click", ()=>{
          active = "general";
          btnGeneral.classList.add("active");
          btnMakkah.classList.remove("active");
          render();
        });

        btnMakkah.addEventListener("click", ()=>{
          active = "makkah";
          btnMakkah.classList.add("active");
          btnGeneral.classList.remove("active");
          render();
        });

        render();
      } else {
        // Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ø£Ù‚Ø³Ø§Ù…: Ù‚Ø§Ø¦Ù…Ø© Ø¨Ø³ÙŠØ·Ø©
        const hint = document.createElement("div");
        hint.className = "hint";
        hint.textContent = "Ø³ÙŠØªÙ… ØªØ­Ø¯ÙŠØ« Ù‡Ø°Ù‡ Ø§Ù„ØµÙØ­Ø© Ø¨Ø§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯ Ø§Ù„Ø±Ø³Ù…ÙŠØ© Ù„Ø§Ø­Ù‚Ù‹Ø§.";
        sheetBody.appendChild(hint);

        const list = document.createElement("div");
        list.className = "list";

        (DATA[key].items || []).forEach(ev=>{
          const item = document.createElement("div");
          item.className = "item";

          const title = document.createElement("div");
          title.className = "itemTitle";
          title.textContent = ev.title;

          const meta = document.createElement("div");
          meta.className = "itemMeta";

          if(ev.greg){
            const d = new Date(ev.greg);
            const c1 = document.createElement("span");
            c1.className = "chip";
            c1.textContent = `ğŸ—“ï¸ ${formatGreg(d)}`;

            const c2 = document.createElement("span");
            c2.className = "chip";
            c2.textContent = `â³ ${countdownDays(d)}`;

            meta.appendChild(c1);
            meta.appendChild(c2);
          }

          item.appendChild(title);
          if(meta.childNodes.length) item.appendChild(meta);
          list.appendChild(item);
        });

        sheetBody.appendChild(list);
      }

      overlay.classList.add("show");
    }

    function closeSheet(){
      overlay.classList.remove("show");
    }

    closeBtn.addEventListener("click", closeSheet);
    overlay.addEventListener("click", (e)=>{
      if(e.target === overlay) closeSheet();
    });

    // ===== Ø±Ø¨Ø· Ø§Ù„Ù…Ø±Ø¨Ø¹Ø§Øª =====
    document.querySelectorAll(".tile").forEach(el=>{
      el.addEventListener("click", ()=> openSheet(el.dataset.key));
    });

    // ===== ØªØ´ØºÙŠÙ„ =====
    updateHeaderTime();
    setInterval(updateHeaderTime, 1000);
  </script>
</body>
</html>
